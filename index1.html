<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <title>Ø«Ø¨Øª Ù†Ø§Ù… - CONTINUOUS PROFIT ACADEMY</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+Arabic:wght@400;700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Merriweather:wght@700&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Fira+Mono&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/index-custom.css">
    <link rel="stylesheet" href="css/floating-ai-assistant.css">

    <!-- Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ethers.js Ù†Ø³Ø®Ù‡ 6 Ø§Ø² CDN -->
    <script src="https://cdn.jsdelivr.net/npm/ethers@6.10.0/dist/ethers.umd.min.js"></script>
    <!-- Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ WalletConnect Provider Ø§Ø² CDN Ø±Ø³Ù…ÛŒ -->
    <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
    <!-- Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ WalletConnect Handler -->
    <script src="js/walletconnect-handler.js?v=5.7"></script>

    <!-- Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ WalletConnect UMD Ø¨Ù‡ ØµÙˆØ±Øª Ù„ÙˆÚ©Ø§Ù„ -->
    <script src="js/walletconnect-v1.8.0.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@walletconnect/web3-provider@1.8.0/dist/umd/index.min.js"></script>
</head>
<body>
    <!-- Registration Form Section -->
    <div id="main-register" class="page-section expandable-container" style="width:100vw;max-width:none;margin:0;left:0;right:0;padding:0.5rem 0;display:block;">
        <div class="expand-header" style="padding:0 1.5rem;">
            <h2 style="margin:0 0 0.5rem 0;color:#00ff88;">ğŸ“ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¯Ø± Ø¢Ú©Ø§Ø¯Ù…ÛŒ Ø³ÙˆØ¯ Ù…Ø³ØªÙ…Ø±</h2>
            <p style="margin:0 0 0.5rem 0;color:#b8c1ec;">Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø³Ø±ÛŒØ¹ Ùˆ Ø¢Ø³Ø§Ù† - ÙÙ‚Ø· Ú†Ù†Ø¯ Ú©Ù„ÛŒÚ©</p>
        </div>
        <div class="expand-content" style="padding:0;">
            <div class="register-container" style="max-width:600px;margin:0 auto;padding:1.5rem;">
                
                <!-- Registration Status Display -->
                <div id="registration-status-display" style="background:linear-gradient(135deg,#232946,#181c2a);border-radius:12px;padding:1.5rem;margin-bottom:1.5rem;border:2px solid #a786ff;text-align:center;">
                    <div style="font-size:3rem;margin-bottom:1rem;">ğŸš€</div>
                    <h3 style="color:#00ff88;margin-bottom:1rem;font-size:1.3rem;">Ø®ÙˆØ´ Ø¢Ù…Ø¯ÛŒØ¯ Ø¨Ù‡ Ø¢Ú©Ø§Ø¯Ù…ÛŒ Ø³ÙˆØ¯ Ù…Ø³ØªÙ…Ø±</h3>
                    <p style="color:#b8c1ec;margin-bottom:1.5rem;line-height:1.6;">
                        Ø¨Ø±Ø§ÛŒ Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ ØªÙ…Ø§Ù… Ø§Ù…Ú©Ø§Ù†Ø§ØªØŒ Ù„Ø·ÙØ§Ù‹ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ù†ÛŒØ¯.<br>
                        Ù‡Ø²ÛŒÙ†Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…: <strong style="color:#00ff88;" id="permanent-registration-cost">100 CPA</strong>
                    </p>
                    <div style="background:rgba(167,134,255,0.1);border-radius:8px;padding:1rem;margin:1rem 0;">
                        <h4 style="color:#a786ff;margin-bottom:0.5rem;">âœ¨ Ù…Ø²Ø§ÛŒØ§ÛŒ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…:</h4>
                        <ul style="color:#b8c1ec;text-align:right;margin:0;padding-right:1rem;">
                            <li>Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ ØªÙ…Ø§Ù… Ø¨Ø®Ø´â€ŒÙ‡Ø§ÛŒ Ø³Ø§ÛŒØª</li>
                            <li>Ø§Ù…Ú©Ø§Ù† Ø®Ø±ÛŒØ¯ Ùˆ ÙØ±ÙˆØ´ ØªÙˆÚ©Ù† CPA</li>
                            <li>Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø´Ø¨Ú©Ù‡ Ø¨Ø§ÛŒÙ†Ø±ÛŒ Ùˆ Ù¾Ø§Ø¯Ø§Ø´â€ŒÙ‡Ø§</li>
                            <li>Ø§Ù…Ú©Ø§Ù† Ø¯Ø±ÛŒØ§ÙØª Ø±ÙØ±Ø§Ù„ Ùˆ Ø¯Ø±Ø¢Ù…Ø¯</li>
                            <li>Ø¯Ø³ØªØ±Ø³ÛŒ Ø¨Ù‡ Ø¢Ù…ÙˆØ²Ø´â€ŒÙ‡Ø§ Ùˆ Ø§Ø®Ø¨Ø§Ø±</li>
                        </ul>
                    </div>
                </div>

                <!-- Registration Form -->
                <form id="registration-form" class="registration-form" style="background:linear-gradient(135deg,#232946,#181c2a);border-radius:12px;padding:1.5rem;border:2px solid #a786ff;">
                    <div style="margin-bottom:1.2rem;">
                        <label for="referrer-address" style="color:#a786ff;font-weight:bold;margin-bottom:0.5rem;display:block;">ğŸ‘¥ Ø¢Ø¯Ø±Ø³ Ù…Ø¹Ø±Ù:</label>
                        <input type="text" id="referrer-address" placeholder="0x..." required style="width:100%;padding:0.8rem 1.2rem;border-radius:8px;border:2px solid #a786ff;background:rgba(0,0,0,0.2);color:#fff;font-family:monospace;direction:ltr;text-align:left;box-sizing:border-box;font-size:1.05rem;">
                        <small style="color:#b8c1ec;font-size:0.85rem;margin-top:0.3rem;display:block;">Ø¢Ø¯Ø±Ø³ Ù…Ø¹Ø±Ù (Ø§Ú¯Ø± Ù†Ø¯Ø§Ø±ÛŒØ¯ØŒ Ø¢Ø¯Ø±Ø³ deployer Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯)</small>
                    </div>
                    <div style="margin-bottom:1.5rem;">
                        <label for="register-ref-index" style="color:#a786ff;font-weight:bold;margin-bottom:0.5rem;display:block;">ğŸ”¢ Ø§ÛŒÙ†Ø¯Ú©Ø³ Ù…Ø¹Ø±Ù:</label>
                        <div style="display:flex;gap:0.3rem;align-items:center;max-width:350px;">
                            <input type="number" id="register-ref-index" placeholder="Ø§ÛŒÙ†Ø¯Ú©Ø³" min="0" style="flex:1;padding:0.8rem 0.5rem;border-radius:8px;border:2px solid #a786ff;background:rgba(0,0,0,0.2);color:#fff;font-family:monospace;direction:ltr;text-align:left;box-sizing:border-box;font-size:0.98rem;">
                            <button type="button" id="register-index-search-btn" style="background:linear-gradient(90deg,#00ff88,#a786ff);color:#181c2a;font-weight:bold;border:none;border-radius:8px;padding:0.8rem 1rem;font-size:0.9rem;cursor:pointer;transition:all 0.3s;white-space:nowrap;">ğŸ” Ù¾ÛŒØ¯Ø§ Ú©Ù†</button>
                        </div>
                        <div id="register-index-search-status" style="color:#ff4444;font-size:0.9rem;margin-top:0.3rem;"></div>
                    </div>
                    <div class="form-group" style="margin-bottom:1.5rem;">
                        <label for="register-user-address" style="color:#a786ff;font-weight:bold;margin-bottom:0.5rem;display:block;">ğŸ‘¤ Ø¢Ø¯Ø±Ø³ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ú©Ø§Ø±Ø¨Ø±:</label>
                        <input type="text" id="register-user-address" placeholder="0x..." required style="width:100%;padding:0.8rem;border-radius:8px;border:2px solid #a786ff;background:rgba(0,0,0,0.2);color:#fff;font-family:monospace;direction:ltr;text-align:left;box-sizing:border-box;">
                        <small style="color:#b8c1ec;font-size:0.85rem;margin-top:0.3rem;display:block;">Ø¢Ø¯Ø±Ø³ Ú©ÛŒÙ Ù¾ÙˆÙ„ÛŒ Ú©Ù‡ Ù…ÛŒâ€ŒØ®ÙˆØ§Ù‡ÛŒØ¯ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ù†ÛŒØ¯</small>
                    </div>
                    <div id="register-ref-summary" style="display:none;margin-bottom:1.5rem;background:rgba(167,134,255,0.08);border-radius:8px;padding:0.8rem;">
                        <div>Ø¢Ø¯Ø±Ø³ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø´Ù…Ø§: <span id="register-wallet-address" style="color:#00ff88;font-family:monospace;">-</span></div>
                        <div>Ø¢Ø¯Ø±Ø³ Ù…Ø¹Ø±Ù: <span id="register-referrer-address" style="color:#a786ff;font-family:monospace;">-</span></div>
                    </div>
                    <div id="register-cpa-balance" style="color:#00ff88;font-weight:bold;margin-bottom:0.5rem;">CPA: -</div>
                    <div id="register-usdc-balance" style="color:#00ccff;font-weight:bold;margin-bottom:0.5rem;">USDC: -</div>
                    <div id="register-matic-balance" style="color:#a786ff;font-weight:bold;margin-bottom:1.5rem;">MATIC: -</div>
                    <div style="margin-bottom:1.5rem;">
                        <span>Ù…Ù‚Ø¯Ø§Ø± Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø² Ø¨Ø±Ø§ÛŒ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…: <span id="register-cpa-required" style="color:#00ff88;font-weight:bold;">100 CPA</span></span>
                        <span style="margin-right:1.5rem;">Ø­Ø¯Ø§Ù‚Ù„ Ù…ØªÛŒÚ© Ù…ÙˆØ±Ø¯ Ù†ÛŒØ§Ø²: <span id="register-matic-required" style="color:#a786ff;font-weight:bold;">0.05 MATIC</span></span>
                    </div>
                    <div class="form-group" id="register-index-search-group" style="margin-bottom:1.5rem;">
                        <small style="color:#b8c1ec;font-size:0.85rem;margin-top:0.3rem;display:block;">Ø§ÛŒÙ†Ø¯Ú©Ø³ Ù…Ø¹Ø±Ù Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯ ØªØ§ Ø¢Ø¯Ø±Ø³ ÙˆÙ„Øª Ø¨Ù‡ Ø·ÙˆØ± Ø®ÙˆØ¯Ú©Ø§Ø± Ø¯Ø± ÙÛŒÙ„Ø¯ Ù…Ø¹Ø±Ù Ù‚Ø±Ø§Ø± Ú¯ÛŒØ±Ø¯</small>
                        <div id="register-index-search-status" style="color:#ff4444;font-size:0.9rem;margin-top:0.3rem;"></div>
                    </div>
                    <button type="button" id="register-btn" style="width:100%;background:linear-gradient(90deg,#00ff88,#a786ff);color:#181c2a;font-weight:bold;border:none;border-radius:8px;padding:1rem;font-size:1.1rem;cursor:pointer;transition:all 0.3s;margin-bottom:1rem;">Ø«Ø¨Øªâ€Œ Ù†Ø§Ù…</button>
                    <div id="register-status" style="text-align:center;margin-top:1rem;"></div>
                </form>
            </div>
        </div>
    </div>

    <!-- Ù†Ù…Ø§ÛŒØ´ ÙˆØ¶Ø¹ÛŒØª Ø§ØªØµØ§Ù„ -->
    <div id="connection-status" style="
        display: none;
        margin: 0 1rem 1rem 1rem;
        padding: 1rem;
        border-radius: 12px;
        font-family: 'Nazanin', 'B Nazanin', 'BNazanin', Tahoma, Arial, sans-serif;
        font-size: 0.9rem;
        font-weight: 600;
        text-align: center;
    "></div>

    <!-- Ø³Ø§ÛŒØ± Ø§Ø³Ú©Ø±ÛŒÙ¾Øªâ€ŒÙ‡Ø§ -->
    <script src="js/config.js"></script>
    <script src="js/web3-interactions.js"></script>
    <script src="js/main.js"></script>
    <script src="js/network.js?v=5.7"></script>
    <script src="js/register.js?v=5.7"></script>

    <script>
        // Ø§ØªØµØ§Ù„ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ù‡ ÙˆÙ„Øª Ùˆ Ø¨Ù‡â€ŒØ±ÙˆØ²Ø±Ø³Ø§Ù†ÛŒ ÙØ±Ù… Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù‡Ù†Ú¯Ø§Ù… Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§ÛŒÙˆ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…
        function autoConnectWalletOnRegisterDiv() {
            const regDiv = document.getElementById('main-register');
            if (!regDiv) return;
            const observer = new MutationObserver(async () => {
                if (regDiv.style.display !== 'none') {
                    if (window.connectWallet) {
                        await window.connectWallet();
                    }
                    if (window.showRegistrationForm) {
                        await window.showRegistrationForm();
                    }
                }
            });
            observer.observe(regDiv, { attributes: true, attributeFilter: ['style'] });
        }
        document.addEventListener('DOMContentLoaded', autoConnectWalletOnRegisterDiv);

        // Ø¬Ø³ØªØ¬Ùˆ Ù…Ø¹Ø±Ù Ø¨Ø§ Ø§ÛŒÙ†Ø¯Ú©Ø³ Ùˆ Ù‚Ø±Ø§Ø± Ø¯Ø§Ø¯Ù† Ø¯Ø± ÙÛŒÙ„Ø¯ Ù…Ø¹Ø±Ù (Ø¨Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² indexToAddress)
        document.addEventListener('DOMContentLoaded', function() {
            const searchBtn = document.getElementById('register-index-search-btn');
            const indexInput = document.getElementById('register-ref-index');
            const statusDiv = document.getElementById('register-index-search-status');
            const refInput = document.getElementById('referrer-address');
            searchBtn && searchBtn.addEventListener('click', async function() {
                statusDiv.textContent = '';
                const idx = indexInput.value.trim();
                if (!idx || isNaN(idx) || parseInt(idx) < 0) {
                    statusDiv.textContent = 'Ø§ÛŒÙ†Ø¯Ú©Ø³ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯';
                    return;
                }
                try {
                    if (!window.contractConfig || !window.contractConfig.contract) {
                        statusDiv.textContent = 'Ø§ØªØµØ§Ù„ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø¨Ø±Ù‚Ø±Ø§Ø± Ù†ÛŒØ³Øª';
                        return;
                    }
                    const contract = window.contractConfig.contract;
                    let address = await contract.indexToAddress(parseInt(idx));
                    if (!address || address === '0x0000000000000000000000000000000000000000') {
                        statusDiv.textContent = 'Ø¢Ø¯Ø±Ø³ Ù…Ø¹ØªØ¨Ø±ÛŒ Ø¨Ø±Ø§ÛŒ Ø§ÛŒÙ† Ø§ÛŒÙ†Ø¯Ú©Ø³ ÛŒØ§ÙØª Ù†Ø´Ø¯';
                        return;
                    }
                    refInput.value = address;
                    statusDiv.textContent = 'Ø¢Ø¯Ø±Ø³ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø¯Ø±Ø¬ Ø´Ø¯';
                    statusDiv.style.color = '#00ff88';
                } catch (e) {
                    statusDiv.textContent = 'Ø®Ø·Ø§ Ø¯Ø± Ø¯Ø±ÛŒØ§ÙØª Ø¢Ø¯Ø±Ø³: ' + (e.message || e);
                    statusDiv.style.color = '#ff4444';
                }
            });
        });

        // Ø§ØªØµØ§Ù„ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ù‡ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ù‡Ù†Ú¯Ø§Ù… Ø¨Ø§Ø±Ú¯Ø°Ø§Ø±ÛŒ ØµÙØ­Ù‡
        document.addEventListener('DOMContentLoaded', async function() {
            if (window.connectWallet) {
                await window.connectWallet();
            }
            if (window.showRegistrationForm) {
                await window.showRegistrationForm();
            }
            
            // Ø±Ø§Ù‡â€ŒØ§Ù†Ø¯Ø§Ø²ÛŒ Ø¯Ú©Ù…Ù‡ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…
            const registerBtn = document.getElementById('register-btn');
            if (registerBtn) {
                registerBtn.onclick = async function() {
                    const oldText = registerBtn.textContent;
                    registerBtn.disabled = true;
                    registerBtn.textContent = 'Ø¯Ø± Ø­Ø§Ù„ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…...';
                    
                    try {
                        if (!window.contractConfig || !window.contractConfig.contract) {
                            throw new Error('Ø§ØªØµØ§Ù„ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ø¨Ø±Ù‚Ø±Ø§Ø± Ù†ÛŒØ³Øª');
                        }
                        
                        const { contract, address } = window.contractConfig;
                        const referrerInput = document.getElementById('referrer-address');
                        const userInput = document.getElementById('register-user-address');
                        const statusDiv = document.getElementById('register-status');
                        
                        let referrerAddress = referrerInput ? referrerInput.value.trim() : '';
                        let userAddress = userInput ? userInput.value.trim() : '';
                        
                        if (!userAddress) {
                            userAddress = address; // Ø§Ø³ØªÙØ§Ø¯Ù‡ Ø§Ø² Ø¢Ø¯Ø±Ø³ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ù…ØªØµÙ„
                        }
                        
                        if (!referrerAddress) {
                            referrerAddress = await contract.deployer();
                        }
                        
                        if (!/^0x[a-fA-F0-9]{40}$/.test(userAddress)) {
                            throw new Error('Ø¢Ø¯Ø±Ø³ Ú©ÛŒÙ Ù¾ÙˆÙ„ Ú©Ø§Ø±Ø¨Ø± Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª');
                        }
                        
                        if (!/^0x[a-fA-F0-9]{40}$/.test(referrerAddress)) {
                            throw new Error('Ø¢Ø¯Ø±Ø³ Ù…Ø¹Ø±Ù Ù…Ø¹ØªØ¨Ø± Ù†ÛŒØ³Øª');
                        }
                        
                        // Ø¨Ø±Ø±Ø³ÛŒ Ù…Ø¹ØªØ¨Ø± Ø¨ÙˆØ¯Ù† Ù…Ø¹Ø±Ù
                        const refData = await contract.users(referrerAddress);
                        if (!refData.activated) {
                            throw new Error('Ù…Ø¹Ø±Ù ÙØ¹Ø§Ù„ Ù†ÛŒØ³Øª');
                        }
                        
                        // Ø¨Ø±Ø±Ø³ÛŒ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ù†Ø¨ÙˆØ¯Ù† Ú©Ø§Ø±Ø¨Ø± Ø¬Ø¯ÛŒØ¯
                        const userData = await contract.users(userAddress);
                        if (userData.activated) {
                            throw new Error('Ø§ÛŒÙ† Ø¢Ø¯Ø±Ø³ Ù‚Ø¨Ù„Ø§Ù‹ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ú©Ø±Ø¯Ù‡ Ø§Ø³Øª');
                        }
                        
                        statusDiv.innerHTML = '<div style="color:#a786ff;">â³ Ø¯Ø± Ø­Ø§Ù„ Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…...</div>';
                        
                        // Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…
                        const tx = await contract.registerAndActivate(referrerAddress, userAddress);
                        statusDiv.innerHTML = '<div style="color:#a786ff;">â³ Ø¯Ø± Ø§Ù†ØªØ¸Ø§Ø± ØªØ§ÛŒÛŒØ¯ ØªØ±Ø§Ú©Ù†Ø´...</div>';
                        
                        await tx.wait();
                        
                        statusDiv.innerHTML = '<div style="color:#00ff88;">âœ… Ø«Ø¨Øªâ€ŒÙ†Ø§Ù… Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ù†Ø¬Ø§Ù… Ø´Ø¯!</div>';
                        
                        // Ù¾Ø§Ú© Ú©Ø±Ø¯Ù† ÙØ±Ù…
                        if (referrerInput) referrerInput.value = '';
                        if (userInput) userInput.value = '';
                        
                    } catch (error) {
                        console.error('Registration error:', error);
                        let errorMessage = 'Ø®Ø·Ø§ Ø¯Ø± Ø«Ø¨Øªâ€ŒÙ†Ø§Ù…';
                        
                        if (error.code === 4001) {
                            errorMessage = 'Ù„ØºÙˆ ØªÙˆØ³Ø· Ú©Ø§Ø±Ø¨Ø±';
                        } else if (error.message.includes('activated')) {
                            errorMessage = error.message;
                        } else if (error.message.includes('registered')) {
                            errorMessage = error.message;
                        } else if (error.message.includes('insufficient')) {
                            errorMessage = 'Ù…ÙˆØ¬ÙˆØ¯ÛŒ Ú©Ø§ÙÛŒ Ù†ÛŒØ³Øª';
                        }
                        
                        const statusDiv = document.getElementById('register-status');
                        if (statusDiv) {
                            statusDiv.innerHTML = `<div style="color:#ff4444;">âŒ ${errorMessage}</div>`;
                        }
                    } finally {
                        registerBtn.textContent = oldText;
                        registerBtn.disabled = false;
                    }
                };
            }
        });
    </script>
</body>
</html> 